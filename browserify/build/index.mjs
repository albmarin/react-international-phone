import j,{useMemo as ze,useRef as He,useState as Ve}from"react";var M=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["C\xF4te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Cura\xE7ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","",2],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49",".... ........"],["Ghana","gh","233"],["Greece","gr","30"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",".. ........"],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","",3,["787","939"]],["Qatar","qa","974"],["R\xE9union","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xE3o Tom\xE9 and Pr\xEDncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]];var ve="react-international-phone-",ae=(...t)=>t.filter(e=>!!e).join(" ").trim(),xe=(...t)=>ae(...t).split(" ").map(e=>`${ve}${e}`).join(" "),P=({addPrefix:t,rawClassNames:e})=>ae(xe(...t),...e);var ie=({value:t,mask:e,maskSymbol:a,offset:i=0,trimNonMaskCharsLeftover:o=!1})=>{if(t.length<i)return t;let n=t.slice(0,i),c=t.slice(i),r=n,s=0;for(let l of e.split("")){if(s>=c.length){if(!o&&l!==a){r+=l;continue}break}l===a?(r+=c[s],s+=1):r+=l}return r};var L=t=>t?/^\d+$/.test(t):!1;var F=t=>t.replace(/\D/g,"");var se=(t,e)=>{let a=t.style.display;a!=="block"&&(t.style.display="block");let i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),n=o.top-i.top,c=i.bottom-o.bottom;n>=0&&c>=0||(Math.abs(n)<Math.abs(c)?t.scrollTop+=n:t.scrollTop-=c),t.style.display=a};var Se=t=>{let{name:e,iso2:a,dialCode:i,format:o,priority:n,areaCodes:c}=t,r=[e,a,i,o,n,c];for(let s=0;s<r.length;s+=1){if(s===0)continue;let l=r[s-1],u=r[s];if(l===void 0&&u!==void 0){let b=JSON.stringify(r,(f,h)=>h===void 0?"__undefined":h).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${l} in: ${b}`)}}return r.filter(s=>s!==void 0)};import{useCallback as Ie,useEffect as Ce,useMemo as Ne,useRef as Me,useState as Re}from"react";var le=({phone:t,dialCode:e,prefix:a="+",charAfterDialCode:i=" "})=>{if(!t||!e)return t;let o=t;return o.startsWith(a)&&(o=o.replace(a,"")),o.startsWith(e)?(o=o.replace(e,""),o.startsWith(i)&&(o=o.replace(i,"")),o):t};var ue=(t,e)=>{let a=e.disableDialCodeAndPrefix?!1:e.forceDialCode,i=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,o=t,n=l=>e.trimNonDigitsEnd?l.trim():l;if(!o)return i&&!o.length||a?n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):n(o);if(o=F(o),o===e.dialCode&&!e.disableDialCodeAndPrefix)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(o)&&!e.disableDialCodeAndPrefix)return n(a?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${o}`);if(!o.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(a)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(o.length<e.dialCode.length)return n(`${e.prefix}${o}`)}let c=()=>{let l=e.dialCode.length,u=o.slice(0,l),b=o.slice(l);return{phoneLeftSide:u,phoneRightSide:b}},{phoneLeftSide:r,phoneRightSide:s}=c();return r=`${e.prefix}${r}${e.charAfterDialCode}`,s=ie({value:s,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&s.length===0}),e.disableDialCodeAndPrefix&&(r=""),n(`${r}${s}`)};var de=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:a,cursorPositionAfterInput:i,leftOffset:o=0,deletion:n})=>{if(i<o)return o;if(!t)return a.length;let c=null;for(let u=i-1;u>=0;u-=1)if(L(e[u])){c=u;break}if(c===null){for(let u=0;u<e.length;u+=1)if(L(a[u]))return u;return e.length}let r=0;for(let u=0;u<c;u+=1)L(e[u])&&(r+=1);let s=0,l=0;for(let u=0;u<a.length&&(s+=1,L(a[u])&&(l+=1),!(l>=r+1));u+=1);if(n!=="backward")for(;!L(a[s])&&s<a.length;)s+=1;return s};var V=({phone:t,prefix:e})=>t?`${e}${F(t)}`:"";function O({value:t,country:e,insertDialCodeOnEmpty:a,trimNonDigitsEnd:i,countries:o,prefix:n,charAfterDialCode:c,forceDialCode:r,disableDialCodeAndPrefix:s,defaultMask:l,countryGuessingEnabled:u,disableFormatting:b}){let f=t;s&&(f=f.startsWith(`${n}`)?f:`${n}${e.dialCode}${f}`);let h=u?Z({phone:f,countries:o,currentCountryIso2:e?.iso2}):void 0,y=h?.country??e,p=ue(f,{prefix:n,mask:J({phone:f,country:y,defaultMask:l,disableFormatting:b}),maskChar:U,dialCode:y.dialCode,trimNonDigitsEnd:i,charAfterDialCode:c,forceDialCode:r,insertDialCodeOnEmpty:a,disableDialCodeAndPrefix:s}),g=u&&!h?.fullDialCodeMatch?e:y;return{phone:V({phone:s?`${g.dialCode}${p}`:p,prefix:n}),inputValue:p,country:g}}var De=t=>{if(t?.toLocaleLowerCase().includes("delete")??!1)return t?.toLocaleLowerCase().includes("forward")?"forward":"backward"},ce=(t,{country:e,insertDialCodeOnEmpty:a,phoneBeforeInput:i,prefix:o,charAfterDialCode:n,forceDialCode:c,disableDialCodeAndPrefix:r,countryGuessingEnabled:s,defaultMask:l,disableFormatting:u,countries:b})=>{let f=t.nativeEvent,h=f.inputType,y=De(h),p=!!h?.startsWith("insertFrom"),g=h==="insertText",x=f?.data||void 0,S=t.target.value,d=t.target.selectionStart??0;if(h?.includes("history"))return{inputValue:i,phone:V({phone:i,prefix:o}),cursorPosition:i.length,country:e};if(g&&!L(x)&&S!==o)return{inputValue:i,phone:V({phone:r?`${e.dialCode}${i}`:i,prefix:o}),cursorPosition:d-(x?.length??0),country:e};if(c&&!S.startsWith(`${o}${e.dialCode}`)&&!p){let N=S?i:`${o}${e.dialCode}${n}`;return{inputValue:N,phone:V({phone:N,prefix:o}),cursorPosition:o.length+e.dialCode.length+n.length,country:e}}let{phone:C,inputValue:m,country:v}=O({value:S,country:e,trimNonDigitsEnd:y==="backward",insertDialCodeOnEmpty:a,countryGuessingEnabled:s,countries:b,prefix:o,charAfterDialCode:n,forceDialCode:c,disableDialCodeAndPrefix:r,disableFormatting:u,defaultMask:l}),D=de({cursorPositionAfterInput:d,phoneBeforeInput:i,phoneAfterInput:S,phoneAfterFormatted:m,leftOffset:c?o.length+e.dialCode.length+n.length:0,deletion:y});return{phone:C,inputValue:m,cursorPosition:D,country:v}};import{useState as Q}from"react";var pe=(t,e)=>{let a=Object.keys(t),i=Object.keys(e);if(a.length!==i.length)return!1;for(let o of a)if(t[o]!==e[o])return!1;return!0};import{useRef as me}from"react";var fe=()=>{let t=me(),e=me(Date.now());return{check:()=>{let i=Date.now(),o=t.current?i-e.current:void 0;return t.current=e.current,e.current=i,o}}};var ke={size:20,overrideLastItemDebounceMS:-1};function he(t,e){let{size:a,overrideLastItemDebounceMS:i,onChange:o}={...ke,...e},[n,c]=Q(t),[r,s]=Q([n]),[l,u]=Q(0),b=fe();return[n,(p,g)=>{if(typeof p=="object"&&typeof n=="object"&&pe(p,n)||p===n)return;let A=i>0,x=b.check(),S=A&&x!==void 0?x>i:!0;if(g?.overrideLastItem!==void 0?g.overrideLastItem:!S)s(C=>[...C.slice(0,l),p]);else{let C=r.length>=a;s(m=>[...m.slice(C?1:0,l+1),p]),C||u(m=>m+1)}c(p),o?.(p)},()=>{if(l<=0)return{success:!1};let p=r[l-1];return c(p),u(g=>g-1),o?.(p),{success:!0,value:p}},()=>{if(l+1>=r.length)return{success:!1};let p=r[l+1];return c(p),u(g=>g+1),o?.(p),{success:!0,value:p}}]}var U=".",_={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:M},X=({defaultCountry:t=_.defaultCountry,value:e=_.value,countries:a=_.countries,prefix:i=_.prefix,defaultMask:o=_.defaultMask,charAfterDialCode:n=_.charAfterDialCode,historySaveDebounceMS:c=_.historySaveDebounceMS,disableCountryGuess:r=_.disableCountryGuess,disableDialCodePrefill:s=_.disableDialCodePrefill,forceDialCode:l=_.forceDialCode,disableDialCodeAndPrefix:u=_.disableDialCodeAndPrefix,disableFormatting:b=_.disableFormatting,onChange:f,inputRef:h})=>{let g={countries:a,prefix:i,charAfterDialCode:n,forceDialCode:u?!1:l,disableDialCodeAndPrefix:u,defaultMask:o,countryGuessingEnabled:!r,disableFormatting:b},A=Me(null),x=h||A,S=w=>{Promise.resolve().then(()=>{typeof window>"u"||x.current!==document?.activeElement||x.current?.setSelectionRange(w,w)})},[{phone:d,inputValue:C,country:m},v,D,N]=he(()=>{let w=T({value:t,field:"iso2",countries:a});w||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let k=w||T({value:"us",field:"iso2",countries:a}),{phone:I,inputValue:$,country:B}=O({value:e,country:k,insertDialCodeOnEmpty:!s,...g});return S($.length),{phone:I,inputValue:$,country:B.iso2}},{overrideLastItemDebounceMS:c,onChange:({inputValue:w,phone:k,country:I})=>{if(!f)return;let $=E(I);f({phone:k,inputValue:w,country:$})}}),E=Ie(w=>T({value:w,field:"iso2",countries:a}),[a]),H=Ne(()=>E(m),[m,E]);Ce(()=>{let w=x.current;if(!w)return;let k=I=>{if(!I.key)return;let $=I.ctrlKey,B=I.shiftKey,Pe=I.key.toLowerCase()==="z";!$||!Pe||(B?N():D())};return w.addEventListener("keydown",k),()=>{w.removeEventListener("keydown",k)}},[x,D,N]);let q=w=>{w.preventDefault();let{phone:k,inputValue:I,country:$,cursorPosition:B}=ce(w,{country:H,phoneBeforeInput:C,insertDialCodeOnEmpty:!1,...g});return v({inputValue:I,phone:k,country:$.iso2}),S(B),e},z=w=>{let k=T({value:w,field:"iso2",countries:a});if(!k){console.error(`[react-international-phone]: can not find a country with "${w}" iso2 code`);return}let I=u?"":`${i}${k.dialCode}${n}`;v({inputValue:I,phone:`${i}${k.dialCode}`,country:k.iso2}),Promise.resolve().then(()=>{x.current?.focus()})},[be,we]=Re(!1);return Ce(()=>{if(!be){we(!0),e!==d&&f?.({inputValue:C,phone:d,country:H});return}if(e===d)return;let{phone:w,inputValue:k,country:I}=O({value:e,country:H,insertDialCodeOnEmpty:!s,...g});v({phone:w,inputValue:k,country:I.iso2})},[e]),{phone:d,inputValue:C,country:H,setCountry:z,handlePhoneValueChange:q,inputRef:x}};var J=({phone:t,country:e,defaultMask:a="............",disableFormatting:i=!1})=>{let o=e.format,n=r=>i?r.replace(new RegExp(`[^${U}]`,"g"),""):r;if(!o)return n(a);if(typeof o=="string")return n(o);if(!o.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),n(a);let c=Object.keys(o).find(r=>{if(r==="default")return!1;if(!(r.charAt(0)==="/"&&r.charAt(r.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${r}" for ${e.iso2} is not valid`),!1;let l=new RegExp(r.substring(1,r.length-1)),u=t.replace(e.dialCode,"");return l.test(F(u))});return n(c?o[c]:o.default)};var R=t=>{let[e,a,i,o,n,c]=t;return{name:e,iso2:a,dialCode:i,format:o,priority:n,areaCodes:c}};var Ae=t=>`Field "${t}" is not supported`,T=({field:t,value:e,countries:a=M})=>{if(["priority"].includes(t))throw new Error(Ae(t));let i=a.find(o=>{let n=R(o);return e===n[t]});if(i)return R(i)};var Z=({phone:t,countries:e=M,currentCountryIso2:a})=>{let i={country:void 0,fullDialCodeMatch:!1};if(!t)return i;let o=F(t);if(!o)return i;let n=i,c=({country:r,fullDialCodeMatch:s})=>{let l=r.dialCode===n.country?.dialCode,u=(r.priority??0)<(n.country?.priority??0);(!l||u)&&(n={country:r,fullDialCodeMatch:s})};for(let r of e){let s=R(r),{dialCode:l,areaCodes:u}=s;if(o.startsWith(l)){let b=n.country?Number(l)>=Number(n.country.dialCode):!0;if(u){let f=o.substring(l.length);for(let h of u)if(f.startsWith(h))return{country:s,fullDialCodeMatch:!0}}(b||l===o||!n.fullDialCodeMatch)&&c({country:s,fullDialCodeMatch:!0})}n.fullDialCodeMatch||o.length<l.length&&l.startsWith(o)&&(!n.country||Number(l)<=Number(n.country.dialCode))&&c({country:s,fullDialCodeMatch:!1})}if(a){let r=T({value:a,field:"iso2",countries:e});if(!r)return n;let l=r?(b=>{if(!b?.areaCodes)return!1;let f=o.substring(b.dialCode.length);return b.areaCodes.some(h=>h.startsWith(f))})(r):!1;!!n&&n.country?.dialCode===r.dialCode&&n.country!==r&&n.fullDialCodeMatch&&(!r.areaCodes||l)&&(n={country:r,fullDialCodeMatch:!0})}return n};import ye from"react";var _e=(t,e)=>{let a=parseInt(t,16);return Number(a+e).toString(16)},Te="abcdefghijklmnopqrstuvwxyz",Ee="1f1e6",ge=Te.split("").reduce((t,e,a)=>({...t,[e]:_e(Ee,a)}),{}),$e=t=>[ge[t[0]],ge[t[1]]].join("-"),K=({iso2:t,size:e,src:a,protocol:i="https",disableLazyLoading:o,className:n,style:c,...r})=>{if(!t)return ye.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[n]}),width:e,height:e,...r});let s=()=>{if(a)return a;let l=$e(t);return`${i}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${l}.svg`};return ye.createElement("img",{className:P({addPrefix:["flag-emoji"],rawClassNames:[n]}),src:s(),width:e,height:e,draggable:!1,"data-country":t,loading:o?void 0:"lazy",style:{width:e,height:e,...c},alt:"",...r})};import G,{useCallback as Y,useEffect as ee,useRef as te,useState as Le}from"react";var Fe=1e3,oe=({show:t,dialCodePrefix:e="+",selectedCountry:a,countries:i=M,flags:o,onSelect:n,onClose:c,...r})=>{let s=te(null),l=te(),u=te({updatedAt:void 0,value:""}),b=d=>{let C=u.current.updatedAt&&new Date().getTime()-u.current.updatedAt.getTime()>Fe;u.current={value:C?d:`${u.current.value}${d}`,updatedAt:new Date};let m=i.findIndex(v=>R(v).name.toLowerCase().startsWith(u.current.value));m!==-1&&y(m)},f=Y(d=>i.findIndex(C=>R(C).iso2===d),[i]),[h,y]=Le(f(a)),p=()=>{l.current!==a&&y(f(a))},g=Y(d=>{y(f(d.iso2)),n?.(d)},[n,f]),A=d=>{let C=i.length-1,m=v=>d==="prev"?v-1:d==="next"?v+1:d==="last"?C:0;y(v=>{let D=m(v);return D<0?0:D>C?C:D})},x=d=>{if(d.stopPropagation(),d.key==="Enter"){d.preventDefault();let C=R(i[h]);g(C);return}if(d.key==="Escape"){c?.();return}if(d.key==="ArrowUp"){d.preventDefault(),A("prev");return}if(d.key==="ArrowDown"){d.preventDefault(),A("next");return}if(d.key==="PageUp"){d.preventDefault(),A("first");return}if(d.key==="PageDown"){d.preventDefault(),A("last");return}d.key===" "&&d.preventDefault(),d.key.length===1&&!d.altKey&&!d.ctrlKey&&!d.metaKey&&b(d.key.toLocaleLowerCase())},S=Y(()=>{if(!s.current||h===void 0)return;let d=R(i[h]).iso2;if(d===l.current)return;let C=s.current.querySelector(`[data-country="${d}"]`);C&&(se(s.current,C),l.current=d)},[h,i]);return ee(()=>{S()},[h,S]),ee(()=>{s.current&&(t?s.current.focus():p())},[t]),ee(()=>{p()},[a]),G.createElement("ul",{ref:s,role:"listbox",className:P({addPrefix:["country-selector-dropdown"],rawClassNames:[r.className]}),style:{display:t?"block":"none",...r.style},onKeyDown:x,onBlur:c,tabIndex:-1,"aria-activedescendant":`react-international-phone__${R(i[h]).iso2}-option`},i.map((d,C)=>{let m=R(d),v=m.iso2===a,D=C===h,N=o?.find(E=>E.iso2===m.iso2);return G.createElement("li",{key:m.iso2,"data-country":m.iso2,role:"option","aria-selected":v,"aria-label":`${m.name} ${e}${m.dialCode}`,id:`react-international-phone__${m.iso2}-option`,className:P({addPrefix:["country-selector-dropdown__list-item",v&&"country-selector-dropdown__list-item--selected",D&&"country-selector-dropdown__list-item--focused"],rawClassNames:[r.listItemClassName]}),onClick:()=>g(m),style:r.listItemStyle,title:m.name},G.createElement(K,{iso2:m.iso2,src:N?.src,className:P({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[r.listItemFlagClassName]}),style:r.listItemFlagStyle}),G.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[r.listItemCountryNameClassName]}),style:r.listItemCountryNameStyle},m.name),G.createElement("span",{className:P({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[r.listItemDialCodeClassName]}),style:r.listItemDialCodeStyle},e,m.dialCode))}))};var re=({selectedCountry:t,onSelect:e,disabled:a,hideDropdown:i,countries:o=M,flags:n,renderButtonWrapper:c,...r})=>{let[s,l]=Ve(!1),u=ze(()=>{if(t)return T({value:t,field:"iso2",countries:o})},[o,t]),b=He(null),f=y=>{y.key&&["ArrowUp","ArrowDown"].includes(y.key)&&(y.preventDefault(),l(!0))},h=()=>{let y={title:u?.name,onClick:()=>l(g=>!g),onMouseDown:g=>g.preventDefault(),onKeyDown:f,disabled:i||a,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":s},p=j.createElement("div",{className:P({addPrefix:["country-selector-button__button-content"],rawClassNames:[r.buttonContentWrapperClassName]}),style:r.buttonContentWrapperStyle},j.createElement(K,{iso2:t,src:n?.find(g=>g.iso2===t)?.src,className:P({addPrefix:["country-selector-button__flag-emoji",a&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[r.flagClassName]}),style:{visibility:t?"visible":"hidden",...r.flagStyle}}),!i&&j.createElement("div",{className:P({addPrefix:["country-selector-button__dropdown-arrow",a&&"country-selector-button__dropdown-arrow--disabled",s&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[r.dropdownArrowClassName]}),style:r.dropdownArrowStyle}));return c?c({children:p,rootProps:y}):j.createElement("button",{...y,type:"button",className:P({addPrefix:["country-selector-button",s&&"country-selector-button--active",a&&"country-selector-button--disabled",i&&"country-selector-button--hide-dropdown"],rawClassNames:[r.buttonClassName]}),"data-country":t,style:r.buttonStyle},p)};return j.createElement("div",{className:P({addPrefix:["country-selector"],rawClassNames:[r.className]}),style:r.style,ref:b},h(),j.createElement(oe,{show:s,countries:o,flags:n,onSelect:y=>{l(!1),e?.(y)},selectedCountry:t,onClose:()=>{l(!1)},...r.dropdownStyleProps}))};import je from"react";var ne=({dialCode:t,prefix:e,disabled:a,style:i,className:o})=>je.createElement("div",{className:P({addPrefix:["dial-code-preview",a&&"dial-code-preview--disabled"],rawClassNames:[o]}),style:i},`${e}${t}`);import W,{forwardRef as Be,useImperativeHandle as Oe}from"react";var Ke=Be(({value:t,onChange:e,countries:a=M,hideDropdown:i,showDisabledDialCodeAndPrefix:o,flags:n,style:c,className:r,inputStyle:s,inputClassName:l,countrySelectorStyleProps:u,dialCodePreviewStyleProps:b,inputProps:f,placeholder:h,disabled:y,name:p,onFocus:g,onBlur:A,required:x,autoFocus:S,...d},C)=>{let{phone:m,inputValue:v,inputRef:D,country:N,setCountry:E,handlePhoneValueChange:H}=X({value:t,countries:a,...d,onChange:z=>{e?.(z.phone,{country:z.country,inputValue:z.inputValue})}}),q=d.disableDialCodeAndPrefix&&o&&N?.dialCode;return Oe(C,()=>D.current?Object.assign(D.current,{setCountry:E,state:{phone:m,inputValue:v,country:N}}):null,[D,E,m,v,N]),W.createElement("div",{ref:C,className:P({addPrefix:["input-container"],rawClassNames:[r]}),style:c},W.createElement(re,{onSelect:z=>E(z.iso2),flags:n,selectedCountry:N.iso2,countries:a,disabled:y,hideDropdown:i,...u}),q&&W.createElement(ne,{dialCode:N.dialCode,prefix:d.prefix??"+",disabled:y,...b}),W.createElement("input",{onChange:H,value:v,type:"tel",ref:D,className:P({addPrefix:["input",y&&"input--disabled"],rawClassNames:[l]}),placeholder:h,disabled:y,style:s,name:p,onFocus:g,onBlur:A,autoFocus:S,required:x,...f}))});export{re as CountrySelector,oe as CountrySelectorDropdown,ne as DialCodePreview,K as FlagImage,Ke as PhoneInput,Se as buildCountryData,M as defaultCountries,J as getActiveFormattingMask,T as getCountry,Z as guessCountryByPartialPhoneNumber,R as parseCountry,le as removeDialCode,X as usePhoneInput};
